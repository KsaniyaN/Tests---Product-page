!function(){function r(i){var e=i;e||(e="index"),$.getJSON("https://api.jsonbin.io/b/5cae9a54fb42337645ebcad3",function(i){!function(i,e){var r=i,a=$(".js-products"),c=e;"price-low"===c&&r.sort(h("price",!0,function(i){return parseFloat(i.slice(1))}));"price-high"===c&&r.sort(h("price",!1,function(i){return parseFloat(i.slice(1))}));for(var s=0;s<r.length;s++){var t=r[s].productName,l=r[s].productImage,n=r[s].price,d=r[s].isSale,o=r[s].isExclusive,p=r[s].size,u=$("<div class='column product-item'>");a.append(u),u.html("<a href='#'><div><div class='product-image'><img src='images/products/"+l+"' alt='"+t+"'></div>"),d&&u.append("<div class='label--sale'>Sale</div>").addClass("filter-sale"),o&&u.append("<div class='label--exclusive'>Exclusive</div>").addClass("filter-exclusive"),d||o||u.append("<div class='label--empty'>&nbsp;</div>"),u.append("<div class='product-info'><h4>"+t+"</h4><div class='product-price'>"+n+"</div></div></div></a>");for(var v=0;v<p.length;v++){var f=p[v].toLowerCase();u.addClass(f)}}}(i,e)})}var h=function(e,c,r){function s(i){return r?r(i[e]):i[e]}return function(i,e){var r=s(i),a=s(e);return(r<a?-1:a<r?1:0)*[-1,1][+!!c]}};$(document).ready(function(){r(),$("#js-filter").change(function(){var i=$(this).val(),e=$(".js-products").children();e.hide(),i?($("."+i).show(),"filter-price-low"===i&&r("price-low"),"filter-price-high"===i&&r("price-high")):e.show()})})}();